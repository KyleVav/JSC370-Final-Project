"0","# setup proportions of homeowners by county for different generations"
"0","counties <- geojsonio::geojson_read(""https://gist.githubusercontent.com/sdwfrost/d1c73f91dd9d175998ed166eb216994a/raw/e89c35f308cee7e2e5a784e1d3afc5d449e9e4bb/counties.geojson"", what = ""sp"")"
"0","map_codes <- data.frame(fip = as.numeric(paste0(counties$STATEFP, counties$COUNTYFP)))"
"0","owners_by_county <- data %>% "
"0","  filter(GEN != 'Pre 1946') %>%"
"0","  filter(RELATE == 0101) %>%"
"0","  group_by(COUNTY, GEN) %>%"
"0","  reframe(p = round(100*weighted.mean(OWNERSHP==10, ASECWTH), digits=2)) %>%"
"0","  filter(COUNTY != 0 & !is.na(COUNTY)) %>%"
"0","  right_join(map_codes, join_by(COUNTY==fip)) %>%"
"0","  pivot_wider(names_from=GEN, values_from=p) %>%"
"0","  select(!""NA"")"
"0","counties$boomer <- owners_by_county[match(map_codes$fip, owners_by_county$COUNTY),]$""Baby Boomer"""
"0","counties$millenial <- owners_by_county[match(map_codes$fip, owners_by_county$COUNTY),]$""Millenial"""
"0","counties$genx <- owners_by_county[match(map_codes$fip, owners_by_county$COUNTY),]$""Gen X"""
"0","counties$genz <- owners_by_county[match(map_codes$fip, owners_by_county$COUNTY),]$""Gen Z"""
