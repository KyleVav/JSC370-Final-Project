"0","bins <- c(0, 20, 30, 40, 50, 60, 70, 80, 90, 100)"
"0",""
"0","# palettes"
"0","pal1 <- colorBin(""YlOrRd"", domain = states$boomer, bins = bins)"
"0","pal2 <- colorBin(""YlOrRd"", domain = states$genx, bins = bins)"
"0","pal3 <- colorBin(""YlOrRd"", domain = states$millenial, bins = bins)"
"0","pal4 <- colorBin(""YlOrRd"", domain = states$genz, bins = bins)"
"0",""
"0","# generation labels"
"0","labelsBoomer <- sprintf("
"0","  ""<strong>%s</strong><br/>%g &#37 of Homeowners"","
"0","  states$name, states$boomer"
"0",") %>% lapply(htmltools::HTML)"
"0","labelsGenX <- sprintf("
"0","  ""<strong>%s</strong><br/>%g &#37 of Homeowners"","
"0","  states$name, states$genx"
"0",") %>% lapply(htmltools::HTML)"
"0","labelsMillenial <- sprintf("
"0","  ""<strong>%s</strong><br/>%g &#37 of Homeowners"","
"0","  states$name, states$millenial"
"0",") %>% lapply(htmltools::HTML)"
"0","labelsGenZ <- sprintf("
"0","  ""<strong>%s</strong><br/>%g &#37 of Homeowners"","
"0","  states$name, states$genz"
"0",") %>% lapply(htmltools::HTML)"
"0",""
"0","# setup"
"0","state_leaflet <- leaflet(states) %>%"
"0","  setView(-96, 37.8, 4) %>%"
"0","  addProviderTiles(""MapBox"", options = providerTileOptions("
"0","    id = ""mapbox.light"","
"0","    accessToken = Sys.getenv('MAPBOX_ACCESS_TOKEN'))) "
"0",""
"0","# Baby Boomers"
"0","state_leaflet <- state_leaflet %>%"
"0","  addPolygons("
"0","    group = ""Baby Boomer"","
"0","    fillColor = ~pal1(boomer),"
"0","    weight = 2,"
"0","    opacity = 1,"
"0","    color = ""white"","
"0","    dashArray = ""3"","
"0","    fillOpacity = 0.7,"
"0","    highlightOptions = highlightOptions("
"0","      weight = 5,"
"0","      color = ""#666"","
"0","      dashArray = """","
"0","      fillOpacity = 0.7,"
"0","      bringToFront = TRUE),"
"0","    label = labelsBoomer,"
"0","    labelOptions = labelOptions("
"0","      style = list(""font-weight"" = ""normal"", padding = ""3px 8px""),"
"0","      textsize = ""15px"","
"0","      direction = ""auto""))"
"0",""
"0","# Gen X"
"0","state_leaflet <- state_leaflet %>%"
"0","  addPolygons("
"0","    group = ""Gen X"","
"0","    fillColor = ~pal2(genx),"
"0","    weight = 2,"
"0","    opacity = 1,"
"0","    color = ""white"","
"0","    dashArray = ""3"","
"0","    fillOpacity = 0.7,"
"0","    highlightOptions = highlightOptions("
"0","      weight = 5,"
"0","      color = ""#666"","
"0","      dashArray = """","
"0","      fillOpacity = 0.7,"
"0","      bringToFront = TRUE),"
"0","    label = labelsGenX,"
"0","    labelOptions = labelOptions("
"0","      style = list(""font-weight"" = ""normal"", padding = ""3px 8px""),"
"0","      textsize = ""15px"","
"0","      direction = ""auto""))"
"0",""
"0","# Millenial"
"0","state_leaflet <- state_leaflet %>%"
"0","  addPolygons("
"0","    group = ""Millenial"","
"0","    fillColor = ~pal3(millenial),"
"0","    weight = 2,"
"0","    opacity = 1,"
"0","    color = ""white"","
"0","    dashArray = ""3"","
"0","    fillOpacity = 0.7,"
"0","    highlightOptions = highlightOptions("
"0","      weight = 5,"
"0","      color = ""#666"","
"0","      dashArray = """","
"0","      fillOpacity = 0.7,"
"0","      bringToFront = TRUE),"
"0","    label = labelsMillenial,"
"0","    labelOptions = labelOptions("
"0","      style = list(""font-weight"" = ""normal"", padding = ""3px 8px""),"
"0","      textsize = ""15px"","
"0","      direction = ""auto""))"
"0",""
"0","# Gen Z"
"0","state_leaflet <- state_leaflet %>%"
"0","  addPolygons("
"0","    group = ""Gen Z"","
"0","    fillColor = ~pal4(genz),"
"0","    weight = 2,"
"0","    opacity = 1,"
"0","    color = ""white"","
"0","    dashArray = ""3"","
"0","    fillOpacity = 0.7,"
"0","    highlightOptions = highlightOptions("
"0","      weight = 5,"
"0","      color = ""#666"","
"0","      dashArray = """","
"0","      fillOpacity = 0.7,"
"0","      bringToFront = TRUE),"
"0","    label = labelsGenZ,"
"0","    labelOptions = labelOptions("
"0","      style = list(""font-weight"" = ""normal"", padding = ""3px 8px""),"
"0","      textsize = ""15px"","
"0","      direction = ""auto""))"
"0",""
"0","state_leaflet %>%"
"0","  addLegend(pal = pal1, values = ~boomer, opacity = 0.7, title = NULL,"
"0","    position = ""bottomright"") %>%"
"0","  addLayersControl("
"0","    baseGroups = c(""Baby Boomer"", ""Gen X"", ""Millenial"", ""Gen Z""),"
"0","    options = layersControlOptions(collapsed = FALSE)"
"0","  )"
